<!DOCTYPE html>
<html>

<head>
    <title>產品展示</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="\CSS\Product_styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>

    <header>
        <nav>
            <div class="logo">
                <a href="/Main.html"><img src="\IMG\icon.png" alt="Logo"></a>
            </div>
            <div class="nav-links">
                <ul>
                    <li><a href="\PAGES\Product.html">最新上架</a></li>
                    <li><a href="\PAGES\search.html">履歷查詢</a></li>
                    <li><a href="\PAGES\upload.html">履歷上架與更新</a></li>
                    <li><a href="\PAGES\my_farm.html">我的農場</a></li>
                </ul>
            </div>
            <div class="nav-icons">
                <a href="#" id="logged-in-icon"><img src="\IMG\user.png" alt="Logged In"></a>
            </div>
        </nav>
    </header>

    <div class="container">
        <aside class="filters">
            <h3>篩選條件</h3>
            <button id="popular">熱門推薦</button>
            <button id="weekly">上週熱銷</button>
            <button id="lowToHigh">價格由低到高</button>
            <button id="highToLow">價格由高到低</button>
        </aside>
        <main>
            <div class="ad-banner">
                <img src="\IMG\advertisement\adv1.png" alt="廣告橫幅">
            </div>
            <div id="product-grid" class="product-grid">
                <!-- 這裡將顯示從後端動態加載的產品信息 -->
            </div>
        </main>
    </div>
    
    <script src="\SCRIPT\Product.js"></script>
    <script>
        $(document).ready(function () {
            // 在這裡添加JavaScript代碼來處理篩選和排序按鈕的點擊事件
            $('#popular').click(function () {
                // 處理熱門推薦篩選
            });

            $('#weekly').click(function () {
                // 處理上週熱銷篩選
            });

            $('#lowToHigh').click(function () {
                // 處理價格由低到高排序
            });

            $('#highToLow').click(function () {
                // 處理價格由高到低排序
            });

            // 加載產品信息
            $.ajax({
                url: 'http://127.0.0.1:5000/api/products', // 替換為您的後端API端點
                method: 'GET',
                success: function (data) {
                    // 在這裡處理從後端獲取的產品數據並將其動態添加到product-grid中
                    data.forEach(function (product) {
                    var productItem = `
                        <div class="product-item animated fadeIn">
                            <h2>${product.name}</h2>
                            <p><strong>品種:</strong> ${product.variety}</p>
                            <p><strong>產地:</strong> ${product.origin}</p>
                            <p><strong>${product.description}</strong></p>
                            <p><strong>價格:</strong> $${product.price}</p>
                            <button class="addToCart" data-id="${product.id}">加入購物車</button>
                        </div>
                    `;
                    $('#product-grid').append(productItem);
                });
                },
                error: function (error) {
                    console.error('Error loading products:', error);
                    alert('Error loading products:', error);
                }
            });

            // 加入購物車按鈕的點擊事件
            $(document).on('click', '.addToCart', function () {
                var productId = $(this).data('id');
                // 在這裡處理將產品添加到購物車的操作
            });
        });
    </script>
</body>
<footer>
    <p>&copy; 2023 Cupee 小黃瓜皮股份有限公司</p>
</footer>

</html>