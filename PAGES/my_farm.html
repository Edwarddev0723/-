<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的農場</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="\CSS\my_farm_styles.css">
</head>

<body>
    <!-- 最上方導引列 -->
    <header>
        <nav>
            <div class="logo">
                <a href="/Main.html"><img src="\IMG\icon.png" alt="Logo"></a>
            </div>
            <div class="nav-links">
                <ul>
                    <li><a href="\PAGES\Product.html">最新上架</a></li>
                    <li><a href="\PAGES\search.html">履歷查詢</a></li>
                    <li><a href="\PAGES\upload.html">履歷上架與更新</a></li>
                    <li><a href="\PAGES\my_farm.html">我的農場</a></li>
                </ul>
            </div>
            <div class="nav-icons">
                <a href="#" id="logged-in-icon"><img src="\IMG\user.png" alt="Logged In"></a>
            </div>
        </nav>
    </header>

    <div class="container my-5">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <div class="banner">
                    <img src="\IMG\main_farm.png" alt="Banner Image">
                </div>

                <div class="farm-info-section mb-4">
                    <h3>農場基礎資訊</h3>
                    <table class="farm-table">
                        <tr>
                            <td>農場</td>
                            <td>小黃農場</td>
                        </tr>
                        <tr>
                            <td>城市</td>
                            <td>新竹縣</td>
                        </tr>
                        <tr>
                            <td>城鎮</td>
                            <td>竹北市</td>
                        </tr>
                        <tr>
                            <td>地址</td>
                            <td>新竹縣竹北市家豐南路一段12號</td>
                        </tr>
                        <tr>
                            <td>電話</td>
                            <td>03 2642181</td>
                        </tr>
                    </table>
                </div>

                <div class="product-list-section">
                    <h3>上架農產品</h3>
                    <ul class="product-list">
                        <li>
                            <div class="product-info">
                                <div class="product-details">
                                    <h4>蘋果</h4>
                                    <p>品種: 富士蘋果</p>
                                    <p>產地: 南投縣竹山鎮</p>
                                    <p>描述: 新鮮甜脆,口感絕佳</p>
                                </div>
                                <div class="product-price">$50/公斤</div>
                            </div>
                        </li>
                        <li>
                            <div class="product-info">
                                <div class="product-details">
                                    <h4>香蕉</h4>
                                    <p>品種: 紅蕉</p>
                                    <p>產地: 高雄市美濃區</p>
                                    <p>描述: 香甜多汁,口感細緻</p>
                                </div>
                                <div class="product-price">$30/公斤</div>
                            </div>
                        </li>
                        <li>
                            <div class="product-info">
                                <div class="product-details">
                                    <h4>橘子</h4>
                                    <p>品種: 文旦柚</p>
                                    <p>產地: 台東縣池上鄉</p>
                                    <p>描述: 肉質飽滿,甜度適中</p>
                                </div>
                                <div class="product-price">$80/公斤</div>
                            </div>
                        </li>
                        <li>
                            <div class="product-info">
                                <div class="product-details">
                                    <h4>葡萄</h4>
                                    <p>品種: 巨峰葡萄</p>
                                    <p>產地: 台南市善化區</p>
                                    <p>描述: 顆粒飽滿,香甜可口</p>
                                </div>
                                <div class="product-price">$120/公斤</div>
                            </div>
                        </li>
                        <li>
                            <div class="product-info">
                                <div class="product-details"> 
                                    <h4>高麗菜</h4>
                                    <p>品種: 梨山高麗菜</p>
                                    <p>產地: 自家陽台(新竹縣)</p>
                                    <p>描述: 自家陽台種植高麗菜</p>
                                </div>
                                <div class="product-price">$80/顆</div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {

            // 加載產品信息
            $.ajax({
                url: 'http://127.0.0.1:5000/api/products', // 替換為您的後端API端點
                method: 'GET',
                success: function (data) {
                    // 在這裡處理從後端獲取的產品數據並將其動態添加到product-grid中
                    data.forEach(function (product) {
                        var productItem = `
                        <li>
                                <div class="product-info">
                                    <div class="product-details">
                                        <h2>${product.name}</h2>
                                        <p><strong>品種:</strong> ${product.variety}</p>
                                        <p><strong>產地:</strong> ${product.origin}</p>
                                        <p><strong>${product.description}</strong></p>
                                        <p><strong>價格:</strong> $${product.price}</p>
                                    </div>
                                    <div class="product-price">$50/公斤</div>
                                </div>
                            </li>
                    `;
                        $('#product-list').append(productItem);
                    });
                },
                error: function (error) {
                    console.error('Error loading products:', error);
                    alert('Error loading products:', error);
                }
            });
        });
    </script>
    <script src="\SCRIPT\script.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@4.8.0/dist/web3.min.js"></script>
</body>
<footer>
    <p>&copy; 2023 Cupee 小黃瓜皮股份有限公司</p>
</footer>

</html>